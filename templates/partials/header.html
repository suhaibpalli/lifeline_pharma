<header class="bg-white border-b border-border-light sticky top-0 z-50">
    <div class="mx-auto px-6 lg:px-10">
        <!-- Main header -->
        <div class="flex items-center justify-between h-16">
            <!-- Logo -->
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 text-primary-500">
                    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z"
                            fill="currentColor"
                        ></path>
                    </svg>
                </div>
                <a href="{% url 'core:home' %}">
                    <h2 class="text-text-primary text-xl font-bold leading-tight tracking-tight">{{ site_name }}</h2>
                </a>
            </div>
            
            <!-- Desktop Navigation -->
            <div class="hidden lg:flex items-center gap-8">
                <a class="text-text-primary text-sm font-medium hover:text-primary-500 transition-colors" href="{% url 'core:home' %}">Home</a>
                <a class="text-text-primary text-sm font-medium hover:text-primary-500 transition-colors" href="{% url 'products:catalog' %}">Products</a>
                <a class="text-text-primary text-sm font-medium hover:text-primary-500 transition-colors" href="{% url 'core:about' %}">About Us</a>
                <a class="text-text-primary text-sm font-medium hover:text-primary-500 transition-colors" href="{% url 'core:contact' %}">Contact Us</a>
                {% if user.is_authenticated and user.user_type == 'PHARMACY' %}
                <a class="text-text-primary text-sm font-medium hover:text-primary-500 transition-colors" href="#">Bulk Orders</a>
                {% endif %}
            </div>
            
            <!-- Search bar (hidden on mobile) -->
            <div class="hidden md:flex flex-1 max-w-md mx-8">
                <div class="relative w-full">
                    <form method="get" action="{% url 'products:search' %}">
                        <input type="text" 
                               name="q"
                               placeholder="Search medicines, health products..." 
                               class="w-full px-4 py-2 border border-border-light rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm">
                        <button type="submit" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-text-secondary hover:text-primary-500 transition-colors">
                            <i class="fas fa-search text-sm"></i>
                        </button>
                    </form>
                </div>
            </div>
            
            <!-- User actions -->
            <div class="flex items-center gap-3">
                {% if user.is_authenticated %}
                    <!-- User menu -->
                    <div class="relative group">
                        <button class="flex items-center text-text-primary hover:text-primary-500 focus:outline-none text-sm font-medium">
                            <i class="fas fa-user mr-2"></i>
                            <span class="hidden sm:inline">{{ user.get_full_name|default:user.email|truncatechars:15 }}</span>
                            <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        
                        <!-- Dropdown menu -->
                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-border-light py-1 z-50 hidden group-hover:block">
                            <a href="{% url 'accounts:profile' %}" class="block px-4 py-2 text-sm text-text-primary hover:bg-background-subtle">
                                <i class="fas fa-user mr-2"></i>My Profile
                            </a>
                            <a href="{% url 'orders:order_list' %}" class="block px-4 py-2 text-sm text-text-primary hover:bg-background-subtle">
                                <i class="fas fa-shopping-bag mr-2"></i>My Orders
                            </a>
                            <a href="{% url 'accounts:address_list' %}" class="block px-4 py-2 text-sm text-text-primary hover:bg-background-subtle">
                                <i class="fas fa-map-marker-alt mr-2"></i>My Addresses
                            </a>
                            <div class="border-t border-border-light my-1"></div>
                            <a href="{% url 'accounts:logout' %}" class="block px-4 py-2 text-sm text-text-primary hover:bg-background-subtle">
                                <i class="fas fa-sign-out-alt mr-2"></i>Logout
                            </a>
                        </div>
                    </div>
                    
                    <!-- Wishlist -->
                    <a href="{% url 'cart:wishlist' %}" class="text-text-primary hover:text-primary-500 transition-colors">
                        <i class="fas fa-heart text-lg"></i>
                    </a>
                    
                    <!-- Cart -->
                    <a href="{% url 'cart:cart' %}" class="relative text-text-primary hover:text-primary-500 transition-colors">
                        <i class="fas fa-shopping-cart text-lg"></i>
                        <span class="absolute -top-2 -right-2 bg-primary-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
                            {{ user.cart.total_items|default:0 }}
                        </span>
                    </a>
                {% else %}
                    <!-- Login/Register -->
                    <a href="{% url 'accounts:login' %}" 
                       class="text-text-primary hover:text-primary-500 transition-colors text-sm font-medium">
                        Login
                    </a>
                    <a href="{% url 'accounts:register_choice' %}" 
                       class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors text-sm font-bold">
                        Register
                    </a>
                {% endif %}
                
                <!-- Mobile menu button -->
                <button class="lg:hidden text-text-primary hover:text-primary-500 transition-colors" id="mobile-menu-btn">
                    <i class="fas fa-bars text-lg"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div class="lg:hidden hidden" id="mobile-menu">
            <div class="py-4 border-t border-border-light">
                <div class="flex flex-col gap-4">
                    <!-- Mobile search -->
                    <div class="px-2">
                        <form method="get" action="{% url 'products:search' %}">
                            <input type="text" 
                                   name="q"
                                   placeholder="Search medicines..." 
                                   class="w-full px-4 py-2 border border-border-light rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm">
                        </form>
                    </div>
                    
                    <!-- Mobile navigation -->
                    <div class="flex flex-col gap-2">
                        <a class="text-text-primary hover:text-primary-500 transition-colors px-2 py-2 text-sm font-medium" href="{% url 'core:home' %}">Home</a>
                        <a class="text-text-primary hover:text-primary-500 transition-colors px-2 py-2 text-sm font-medium" href="{% url 'products:catalog' %}">Products</a>
                        <a class="text-text-primary hover:text-primary-500 transition-colors px-2 py-2 text-sm font-medium" href="{% url 'core:about' %}">About Us</a>
                        <a class="text-text-primary hover:text-primary-500 transition-colors px-2 py-2 text-sm font-medium" href="{% url 'core:contact' %}">Contact Us</a>
                        {% if user.is_authenticated and user.user_type == 'PHARMACY' %}
                        <a class="text-text-primary hover:text-primary-500 transition-colors px-2 py-2 text-sm font-medium" href="#">Bulk Orders</a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
    // Mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        if (mobileMenuBtn && mobileMenu) {
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
        }
    });
    </script>
</header>
